# v0.4.2 Test & Experiment Tracker

This document captures structured tests for version `v0.4.2`, which focuses on:
- Context memory windowing and trimming logic
- Project hygiene and GitHub Projects workflow adoption
- Cross-platform consistency across macOS and Windows

---

## Test 1 — Short History (Under Limit)

**Test File:**
`experiments/test_history_short.py`

**Context Settings:**
- `max_history_turns`: 5
- `max_prompt_tokens`: 512
- `DEBUG_MODE`: True

**History Input:**
```json
[
  { "role": "user", "content": "Hello" },
  { "role": "assistant", "content": "Hi! How can I help?" },
  { "role": "user", "content": "What's the weather like today?" }
]
```

**Lastest Message:**

---

### Expected Outcome

- All 3 messages retained (no trimming needed)
- Final prompt includes base prompt + history + new message
- `source = base_prompt`
- Context logs appear (message count, token count)

---

### Actual Output

- ✅ Base prompt appeared correctly
- ✅ All messages present in context
- ✅ Final user message injected as expected
- ✅ `[Context Debug]` logging confirmed in console
- ✅ `source` identified as `base_prompt`

---

### Observations

- Trimming logic was bypassed since input length < `max_history_turns`
- Prompt structure remained intact and clean
- Good baseline to compare future trimming tests

---

### Verdict

**PASS**
Correct context handling confirmed when history is shorter than the configured memory window.
